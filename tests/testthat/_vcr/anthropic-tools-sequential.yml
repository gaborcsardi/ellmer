http_interactions:
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status: 200
    headers:
      date: Tue, 06 May 2025 21:25:56 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-05-06T21:25:56Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-05-06T21:25:56Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-05-06T21:25:55Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-05-06T21:25:56Z'
      request-id: req_011CNryyq5dDiNwLv1boZEbw
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 93bb8d8c1d68f08d-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_01FpVBWo7xMzuMugc3HFvzwX","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01RoADmzbGLc71kmed6dfQXL","name":"forecast","input":{"city":"New
        York"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":511,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":64}}'
  recorded_at: 2025-05-06 21:25:56
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01RoADmzbGLc71kmed6dfQXL","name":"forecast","input":{"city":"New
        York"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01RoADmzbGLc71kmed6dfQXL","content":"rainy","is_error":false}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status: 200
    headers:
      date: Tue, 06 May 2025 21:25:58 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-05-06T21:25:57Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-05-06T21:25:58Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-05-06T21:25:57Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-05-06T21:25:57Z'
      request-id: req_011CNryyxx9Ydy4XPUqEqfrP
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 93bb8d979e9af08d-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_01YNgo3W4UJY6J4KJpqZ6s9e","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"Let
        me check what equipment you need for rainy conditions"},{"type":"tool_use","id":"toolu_01GMMLFsKNarrtwwPSnuGfm4","name":"equipment","input":{"weather":"rainy"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":588,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":65}}'
  recorded_at: 2025-05-06 21:25:58
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01RoADmzbGLc71kmed6dfQXL","name":"forecast","input":{"city":"New
        York"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01RoADmzbGLc71kmed6dfQXL","content":"rainy","is_error":false}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check what equipment you need for rainy conditions"},{"type":"tool_use","id":"toolu_01GMMLFsKNarrtwwPSnuGfm4","name":"equipment","input":{"weather":"rainy"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01GMMLFsKNarrtwwPSnuGfm4","content":"umbrella","is_error":false}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status: 200
    headers:
      date: Tue, 06 May 2025 21:25:59 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-05-06T21:25:59Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-05-06T21:25:59Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-05-06T21:25:58Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-05-06T21:25:59Z'
      request-id: req_011CNryz5v6fGFkyPuKQwDW3
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 93bb8da1cd99f08d-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_013FnJb7SqEToQ68aVfER38E","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"For
        New York this weekend you should bring an umbrella since rain is expected"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":666,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":19}}'
  recorded_at: 2025-05-06 21:25:59
recorded_with: vcr/1.7.0.91, webmockr/2.0.0
