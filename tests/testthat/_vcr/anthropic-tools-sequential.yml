http_interactions:
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status:
      status_code: 200
      message: OK
    headers:
      date: Mon, 28 Apr 2025 14:41:28 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-04-28T14:41:27Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-04-28T14:41:28Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-04-28T14:41:25Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-04-28T14:41:27Z'
      request-id: req_011CNbJfSViomL5zYRMtg97A
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 9377520309cd46e6-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_01JQgX6zdJGLqKyfFyPo4jAG","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01FQ5cHWgS92vUzxX1wk2dss","name":"forecast","input":{"city":"New
        York"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":511,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":64}}'
      file: no
  recorded_at: 2025-04-28 14:41:33 GMT
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01FQ5cHWgS92vUzxX1wk2dss","name":"forecast","input":{"city":"New
        York"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01FQ5cHWgS92vUzxX1wk2dss","content":"rainy","is_error":false}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status:
      status_code: 200
      message: OK
    headers:
      date: Mon, 28 Apr 2025 14:41:31 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-04-28T14:41:30Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-04-28T14:41:31Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-04-28T14:41:28Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-04-28T14:41:30Z'
      request-id: req_011CNbJfgDE2vjAM9bCkZTM9
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 937752171dbd46e6-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_01P8GHft68nj76htSksmmVWM","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"Let
        me check what equipment you need for rainy conditions"},{"type":"tool_use","id":"toolu_01RgDLB5TnmhTr3NcwUUE5rc","name":"equipment","input":{"weather":"rainy"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":588,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":65}}'
      file: no
  recorded_at: 2025-04-28 14:41:33 GMT
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-3-5-sonnet-latest","system":"\n    Use provided tool
        calls to find the weather forecast and suitable\n    equipment for a variety
        of weather conditions.\n\n    In your response, be very terse and omit punctuation.,\n    ","messages":[{"role":"user","content":[{"type":"text","text":"What
        should I pack for New York this weekend?"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check the forecast for New York and suggest equipment"},{"type":"tool_use","id":"toolu_01FQ5cHWgS92vUzxX1wk2dss","name":"forecast","input":{"city":"New
        York"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01FQ5cHWgS92vUzxX1wk2dss","content":"rainy","is_error":false}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me check what equipment you need for rainy conditions"},{"type":"tool_use","id":"toolu_01RgDLB5TnmhTr3NcwUUE5rc","name":"equipment","input":{"weather":"rainy"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01RgDLB5TnmhTr3NcwUUE5rc","content":"umbrella","is_error":false}]}],"stream":false,"tools":[{"name":"forecast","description":"Gets
        the weather forecast for a city","input_schema":{"type":"object","description":"","properties":{"city":{"type":"string","description":"City
        name"}},"required":["city"],"additionalProperties":false}},{"name":"equipment","description":"Gets
        the equipment needed for a weather condition","input_schema":{"type":"object","description":"","properties":{"weather":{"type":"string","description":"Weather
        condition"}},"required":["weather"],"additionalProperties":false}}],"temperature":0,"max_tokens":4096}'
    headers:
      anthropic-version: '2023-06-01'
      x-api-key: <redacted>
  response:
    status:
      status_code: 200
      message: OK
    headers:
      date: Mon, 28 Apr 2025 14:41:33 GMT
      content-type: application/json
      anthropic-ratelimit-input-tokens-limit: '80000'
      anthropic-ratelimit-input-tokens-remaining: '80000'
      anthropic-ratelimit-input-tokens-reset: '2025-04-28T14:41:32Z'
      anthropic-ratelimit-output-tokens-limit: '16000'
      anthropic-ratelimit-output-tokens-remaining: '16000'
      anthropic-ratelimit-output-tokens-reset: '2025-04-28T14:41:33Z'
      anthropic-ratelimit-requests-limit: '1000'
      anthropic-ratelimit-requests-remaining: '999'
      anthropic-ratelimit-requests-reset: '2025-04-28T14:41:31Z'
      anthropic-ratelimit-tokens-limit: '96000'
      anthropic-ratelimit-tokens-remaining: '96000'
      anthropic-ratelimit-tokens-reset: '2025-04-28T14:41:32Z'
      request-id: req_011CNbJfuGYSkqztrL9VVnBa
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 9377522a28d846e6-DFW
      content-encoding: gzip
    body:
      string: '{"id":"msg_015HCpsDrixyQLSH8Znga2rZ","type":"message","role":"assistant","model":"claude-3-5-sonnet-20241022","content":[{"type":"text","text":"For
        New York this weekend you should bring an umbrella since rain is expected"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":666,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":19}}'
      file: no
  recorded_at: 2025-04-28 14:41:33 GMT
recorded_with: vcr/1.7.0.91, webmockr/2.0.0
